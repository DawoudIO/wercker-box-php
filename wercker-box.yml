name: php
version: 0.0.3
inherits: wercker/ubuntu12.04-webessentials@1.0.4
type: service
platform: ubuntu@12.04
description: wercker box for php development
keywords:
    - php
    - composer
    - mongo
    - nodejs
    - bower
    - sass
packages:
    - php@5.5
script: |
    # Install launchpad repositories
    sudo add-apt-repository ppa:ondrej/php5 -y
    sudo apt-get update -y

    # Install PHP
    sudo apt-get install php5-cli php5-dev php5-intl php5-mcrypt php-pear -y

    # Configure PEAR
    pear config-set php_ini /etc/php5/cli/php.ini
    pecl config-set php_ini /etc/php5/cli/php.ini

    # Build PHP MongoDB module
    sudo pecl install mongo-1.4.5

    # Install Composer
    curl -sS https://getcomposer.org/installer | php
    sudo mv composer.phar /usr/local/bin/composer

    # Install Bower
    sudo npm install -g bower

    # Install Sass
    sudo apt-get install rubygems -y
    sudo gem install sass

